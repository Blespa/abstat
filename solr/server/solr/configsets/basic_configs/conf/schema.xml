<?xml version="1.0" encoding="UTF-8" ?>

<schema name="schemaSolr" version="1.5">
   <fields>
   	<field name="idDocument" type="int" indexed="true" stored="true" required="true" multiValued="false" /> 
	<field name="concept" type="text_general" indexed="true" stored="true" required="false" multiValued="false" />
	<field name="datatypeProperty" type="text_general" indexed="true" stored="true" required="false" multiValued="false" />
	<field name="objectProperty" type="text_general" indexed="true" stored="true" required="false" multiValued="false" />
	<field name="datatypeAkp" type="text_general" indexed="true" stored="true" required="false" multiValued="false" />
	<field name="objectAkp" type="text_general" indexed="true" stored="true" required="false" multiValued="false" />
	
	<!-- Ora posso fare query di qualsiasi tipo sui documenti indicizzati (grazie al campo 'text')-->
	<field name="text" type="text_general" indexed="true" stored="false" multiValued="true"/>

	<!--Risolto il problema dell'UpdateLog in solrconfig.xml (mancava il campo '_version_')-->
	<field name="_version_" type="long" indexed="true" stored="true" multiValued="false" />

	<!-- Aggiungo questo campo in modo tale da avere un unico core chiamato 'indexing' in cui indicizzo tutto (concetti, proprietà, akp).
	Questo campo può contenere solamente uno dei tre valori seguenti: "concept" o "datatypeProperty" o "objectProperty" o "datatypeAkp" o "objectAkp", in modo 		tale da differenziare nel core se il documento inserito è un concetto oppure è una proprietà oppure è un akp.-->
	<field name="type" type="text_general" indexed="true" stored="true" required="true" multiValued="false" />

   </fields>

   <uniqueKey>idDocument</uniqueKey>

   <types>
	<fieldType name="int" class="solr.TrieIntField" precisionStep="0" positionIncrementGap="0"/>
	
	<fieldType name="long" class="solr.TrieLongField" precisionStep="0" positionIncrementGap="0"/>

   	<fieldType name="text_general" class="solr.TextField" sortMissingLast="true" positionIncrementGap="100">
		<analyzer type="index">
   			<tokenizer class="solr.StandardTokenizerFactory" />
			<filter class="solr.LowerCaseFilterFactory" />
		</analyzer>
		<analyzer type="query">
			<tokenizer class="solr.StandardTokenizerFactory" />
			<filter class="solr.LowerCaseFilterFactory" />
		</analyzer>
	</fieldType>
   </types>

</schema>
